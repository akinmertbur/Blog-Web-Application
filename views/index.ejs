<%- include('partials/header.ejs') %>

<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a class="navbar-brand" href="#"
      ><svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="currentColor"
        class="bi bi-brush-fill"
        viewBox="0 0 16 16"
      >
        <path
          d="M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.1 6.1 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.1 8.1 0 0 1-3.078.132 4 4 0 0 1-.562-.135 1.4 1.4 0 0 1-.466-.247.7.7 0 0 1-.204-.288.62.62 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896q.19.012.348.048c.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04"
        /></svg
    ></a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarTogglerDemo02"
      aria-controls="navbarTogglerDemo02"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Link</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" aria-disabled="true">Disabled</a>
        </li>
      </ul>
      <form class="d-flex" role="search">
        <input
          class="form-control me-2"
          type="search"
          placeholder="Search"
          aria-label="Search"
        />
        <button class="btn btn-outline-success" type="submit">Search</button>
      </form>
    </div>
  </div>
</nav>

<h1>Welcome to Blog App</h1>

<form action="/create" method="POST">
  <input type="text" name="title" placeholder="Title" />
  <textarea name="content" placeholder="Write your blog post here"></textarea>
  <input type="submit" value="Publish" />
</form>

<form action="/view" method="get"><input type="submit" value="View" /></form>
<% if (locals.posts) { %> <% for( let i = 0; i < posts.length; i++ ) { %>
<div class="">
  <h3><%= posts[i].title %></h3>
  <p><%= posts[i].content %></p>
</div>
<% } %>

<ul>
  <% posts.forEach((post) => { %>
  <li>
    <a class="button-link" href="/edit/<%= encodeURIComponent(post.title) %>"
      >Edit <%= post.title %></a
    >
    <form action="/delete/<%= encodeURIComponent(post.title) %>" method="POST">
      <input type="hidden" name="_method" value="DELETE" />
      <input type="submit" value="Delete <%= post.title %>" />
    </form>
  </li>
  <% }); %>
</ul>

<% } %> <%- include('partials/footer.ejs') %>
